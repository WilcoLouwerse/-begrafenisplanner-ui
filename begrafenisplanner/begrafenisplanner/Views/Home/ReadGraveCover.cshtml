
@using System.Data
@using System.Diagnostics
@using begrafenisplanner.Models;

@{
    ViewData["Title"] = "Grave Covers";
    DataTable dt_graveCovers = ViewBag.GraveCovers;
}

<div align="right"><a href="@Url.Action("WriteGraveCover", "Home")" class="btn btn-primary">Add Grave Cover</a></div>

<h5>Grave Covers :</h5>
<table class="table">
    <thead>
        <tr>
            <th scope="col">Grave Cover ID</th>
            <th scope="col">Name</th>
            <th scope="col">Description</th>
            <th scope="col">Date Created</th>
            <th scope="col">Date Modified</th>
        </tr>
    </thead>

    <tbody>
    @{
        try
        {
            foreach (DataRow row in dt_graveCovers.Rows)
            {
            <tr>
                <td>@row["id"].ToString()</td>
                <td>@row["name"].ToString()</td>
                <td>@row["description"].ToString()</td>
                <td>@row["dateCreated"].ToString()</td>
                <td>@row["dateModified"].ToString()</td>
            </tr>
            }
        }
        catch (NullReferenceException e)
        {
            Debug.WriteLine("\nFAILED BUILDING GRAVE COVER TABLE WITH ERROR:\n" + e + "\n");
            throw;
        }
    }
    </tbody>
</table>